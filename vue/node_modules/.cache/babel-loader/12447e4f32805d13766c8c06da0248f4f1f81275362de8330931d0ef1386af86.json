{"ast":null,"code":"import * as echarts from 'echarts';\nconst lineOption = {\n  title: {\n    text: '最新一周商品销售的趋势图',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  legend: {\n    left: 'left'\n  },\n  xAxis: {\n    type: 'category',\n    data: []\n  },\n  yAxis: {\n    type: 'value'\n  },\n  series: [{\n    name: '金额',\n    data: [],\n    type: 'line',\n    smooth: true\n  }]\n};\nconst pieOption = {\n  title: {\n    text: '库存统计比例图',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left'\n  },\n  series: [{\n    type: 'pie',\n    center: ['60%', '55%'],\n    radius: '50%',\n    data: [],\n    label: {\n      show: true,\n      formatter(param) {\n        return param.name + ' (' + param.percent + '%)';\n      }\n    },\n    emphasis: {\n      itemStyle: {\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n      }\n    }\n  }]\n};\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      notices: [],\n      dataCount: {}\n    };\n  },\n  mounted() {\n    // 折线图\n    let linetDom = document.getElementById('line');\n    let lineChart = echarts.init(linetDom);\n\n    // 饼图\n    let pieDom = document.getElementById('pie');\n    let pieChart = echarts.init(pieDom);\n    this.$request.get('/goodsCount').then(res => {\n      lineOption.xAxis.data = res.data.map(v => v.name);\n      lineOption.series[0].data = res.data.map(v => v.value);\n      lineChart.setOption(lineOption);\n    });\n    this.$request.get('/storeCount').then(res => {\n      pieOption.series[0].data = res.data;\n      pieChart.setOption(pieOption);\n    });\n  },\n  created() {\n    this.$request.get('/notice/selectAll').then(res => {\n      this.notices = res.data || [];\n    });\n    this.$request.get('/dataCount').then(res => {\n      this.dataCount = res.data || {};\n    });\n  }\n};","map":{"version":3,"names":["echarts","lineOption","title","text","left","tooltip","trigger","legend","xAxis","type","data","yAxis","series","name","smooth","pieOption","orient","center","radius","label","show","formatter","param","percent","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","user","JSON","parse","localStorage","getItem","notices","dataCount","mounted","linetDom","document","getElementById","lineChart","init","pieDom","pieChart","$request","get","then","res","map","v","value","setOption","created"],"sources":["src/views/manager/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"card\" style=\"padding: 15px\">\n      您好，{{ user?.name }}！欢迎使用本系统\n    </div>\n\n    <div style=\"display: flex; grid-gap: 10px; margin: 10px 0\">\n      <div class=\"card\" style=\"flex: 1; display: flex; align-items: center\">\n        <img src=\"@/assets/imgs/仓储.png\" alt=\"\" style=\"width: 50px\">\n        <div style=\"margin-left: 40px\">\n          <div style=\"color: #666\">存储余量</div>\n          <div style=\"margin-top: 5px; font-size: 20px\">{{ dataCount.store }}</div>\n        </div>\n      </div>\n      <div class=\"card\" style=\"flex: 1; display: flex; align-items: center\">\n        <img src=\"@/assets/imgs/库存余额.png\" alt=\"\" style=\"width: 50px\">\n        <div style=\"margin-left: 40px\">\n          <div style=\"color: #666\">库存余额</div>\n          <div style=\"margin-top: 5px; font-size: 20px\">{{ dataCount.money }}</div>\n        </div>\n      </div>\n      <div class=\"card\" style=\"flex: 1; display: flex; align-items: center\">\n        <img src=\"@/assets/imgs/采购.png\" alt=\"\" style=\"width: 50px\">\n        <div style=\"margin-left: 40px\">\n          <div style=\"color: #666\">采购订单</div>\n          <div style=\"margin-top: 5px; font-size: 20px\">{{ dataCount.stock }}</div>\n        </div>\n      </div>\n      <div class=\"card\" style=\"flex: 1; display: flex; align-items: center\">\n        <img src=\"@/assets/imgs/销售.png\" alt=\"\" style=\"width: 50px\">\n        <div style=\"margin-left: 40px\">\n          <div style=\"color: #666\">销售订单</div>\n          <div style=\"margin-top: 5px; font-size: 20px\">{{ dataCount.sale }}</div>\n        </div>\n      </div>\n    </div>\n\n    <div style=\"margin: 10px 0; display: flex; grid-gap: 10px\">\n      <div style=\"flex: 1\" class=\"card\">\n        <div style=\"height: 400px\" id=\"line\"></div>\n      </div>\n\n      <div style=\"flex: 1\" class=\"card\">\n        <div style=\"height: 400px\" id=\"pie\"></div>\n      </div>\n    </div>\n\n    <div style=\"display: flex; margin: 10px 0\">\n      <div style=\"width: 50%;\" class=\"card\">\n        <div style=\"margin-bottom: 30px; font-size: 20px; font-weight: bold\">公告列表</div>\n        <div >\n          <el-timeline  reverse slot=\"reference\">\n            <el-timeline-item v-for=\"item in notices\" :key=\"item.id\" :timestamp=\"item.time\">\n              <el-popover\n                  placement=\"right\"\n                  width=\"200\"\n                  trigger=\"hover\"\n                  :content=\"item.content\">\n                <span slot=\"reference\">{{ item.title }}</span>\n              </el-popover>\n            </el-timeline-item>\n          </el-timeline>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\nconst lineOption = {\n  title: {\n    text: '最新一周商品销售的趋势图',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  legend: {\n    left: 'left'\n  },\n  xAxis: {\n    type: 'category',\n    data: []\n  },\n  yAxis: {\n    type: 'value'\n  },\n  series: [\n    {\n      name: '金额',\n      data: [],\n      type: 'line',\n      smooth: true\n    },\n  ]\n}\n\nconst pieOption = {\n  title: {\n    text: '库存统计比例图',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left'\n  },\n  series: [\n    {\n      type: 'pie',\n      center: ['60%', '55%'],\n      radius: '50%',\n      data: [],\n      label: {\n        show: true,\n        formatter(param) {\n          return param.name + ' (' + param.percent + '%)';\n        }\n      },\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n      }\n    }\n  ]\n}\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      notices: [],\n      dataCount: {}\n    }\n  },\n  mounted() {\n    // 折线图\n    let linetDom = document.getElementById('line')\n    let lineChart = echarts.init(linetDom)\n\n    // 饼图\n    let pieDom = document.getElementById('pie')\n    let pieChart = echarts.init(pieDom)\n\n    this.$request.get('/goodsCount').then(res => {\n      lineOption.xAxis.data = res.data.map(v => v.name)\n      lineOption.series[0].data = res.data.map(v => v.value)\n      lineChart.setOption(lineOption)\n    })\n\n    this.$request.get('/storeCount').then(res => {\n      pieOption.series[0].data = res.data\n      pieChart.setOption(pieOption)\n    })\n\n  },\n  created() {\n    this.$request.get('/notice/selectAll').then(res => {\n      this.notices = res.data || []\n    })\n\n    this.$request.get('/dataCount').then(res => {\n      this.dataCount = res.data || {}\n    })\n  }\n}\n</script>"],"mappings":"AAqEA,YAAAA,OAAA;AACA,MAAAC,UAAA;EACAC,KAAA;IACAC,IAAA;IACAC,IAAA;EACA;EACAC,OAAA;IACAC,OAAA;EACA;EACAC,MAAA;IACAH,IAAA;EACA;EACAI,KAAA;IACAC,IAAA;IACAC,IAAA;EACA;EACAC,KAAA;IACAF,IAAA;EACA;EACAG,MAAA,GACA;IACAC,IAAA;IACAH,IAAA;IACAD,IAAA;IACAK,MAAA;EACA;AAEA;AAEA,MAAAC,SAAA;EACAb,KAAA;IACAC,IAAA;IACAC,IAAA;EACA;EACAC,OAAA;IACAC,OAAA;EACA;EACAC,MAAA;IACAS,MAAA;IACAZ,IAAA;EACA;EACAQ,MAAA,GACA;IACAH,IAAA;IACAQ,MAAA;IACAC,MAAA;IACAR,IAAA;IACAS,KAAA;MACAC,IAAA;MACAC,UAAAC,KAAA;QACA,OAAAA,KAAA,CAAAT,IAAA,UAAAS,KAAA,CAAAC,OAAA;MACA;IACA;IACAC,QAAA;MACAC,SAAA;QACAC,UAAA;QACAC,aAAA;QACAC,WAAA;MACA;IACA;EACA;AAEA;AAEA;EACAf,IAAA;EACAH,KAAA;IACA;MACAmB,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,OAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,IAAAC,QAAA,GAAAC,QAAA,CAAAC,cAAA;IACA,IAAAC,SAAA,GAAAxC,OAAA,CAAAyC,IAAA,CAAAJ,QAAA;;IAEA;IACA,IAAAK,MAAA,GAAAJ,QAAA,CAAAC,cAAA;IACA,IAAAI,QAAA,GAAA3C,OAAA,CAAAyC,IAAA,CAAAC,MAAA;IAEA,KAAAE,QAAA,CAAAC,GAAA,gBAAAC,IAAA,CAAAC,GAAA;MACA9C,UAAA,CAAAO,KAAA,CAAAE,IAAA,GAAAqC,GAAA,CAAArC,IAAA,CAAAsC,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAApC,IAAA;MACAZ,UAAA,CAAAW,MAAA,IAAAF,IAAA,GAAAqC,GAAA,CAAArC,IAAA,CAAAsC,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,KAAA;MACAV,SAAA,CAAAW,SAAA,CAAAlD,UAAA;IACA;IAEA,KAAA2C,QAAA,CAAAC,GAAA,gBAAAC,IAAA,CAAAC,GAAA;MACAhC,SAAA,CAAAH,MAAA,IAAAF,IAAA,GAAAqC,GAAA,CAAArC,IAAA;MACAiC,QAAA,CAAAQ,SAAA,CAAApC,SAAA;IACA;EAEA;EACAqC,QAAA;IACA,KAAAR,QAAA,CAAAC,GAAA,sBAAAC,IAAA,CAAAC,GAAA;MACA,KAAAb,OAAA,GAAAa,GAAA,CAAArC,IAAA;IACA;IAEA,KAAAkC,QAAA,CAAAC,GAAA,eAAAC,IAAA,CAAAC,GAAA;MACA,KAAAZ,SAAA,GAAAY,GAAA,CAAArC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}